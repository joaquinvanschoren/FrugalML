library(OpenML) 
library(mlr) 

dsInStudy = c(174, 357, 383, 388, 345, 340, 338, 314, 307, 333, 9, 16, 4, 11, 42, 54, 35, 28, 30, 59, 23, 61, 
       179, 181, 186, 251, 275, 460, 477, 446, 458, 453, 465, 472, 679, 756, 768, 775, 770, 751, 749, 
       782, 744, 763, 840, 857, 833, 852, 838, 864, 845, 869, 871, 953, 934, 958, 922, 927, 941, 939, 
       946, 1053, 1008, 1022, 1041, 1046, 1039, 1010, 1015, 1116, 1109, 554, 718, 732, 720, 737, 713, 
       725, 802, 787, 826, 821, 819, 807, 794, 814, 799, 888, 876, 915, 903, 890, 910, 895, 908, 989, 
       965, 972, 1003, 984, 996, 977, 991, 960, 1065, 1060, 1104, 55, 62, 151, 137, 187, 163, 182, 276, 
       310, 377, 339, 334, 346, 454, 459, 384, 389, 391, 478, 480, 461, 466, 694, 682, 719, 721, 714, 
       726, 738, 757, 769, 752, 745, 733, 740, 764, 788, 810, 771, 803, 795, 783, 808, 790, 776, 834, 
       839, 846, 858, 853, 822, 841, 815, 827, 5, 24, 12, 31, 36, 50, 29, 43, 48, 865, 877, 872, 896, 
       891, 884, 889, 860, 930, 904, 928, 909, 923, 916, 911, 966, 954, 961, 942, 973, 947, 935, 959, 
       1004, 978, 992, 980, 985, 1009, 997, 1011, 1042, 1054, 1023, 1016, 1066, 1059, 1061, 1073, 1117, 
       392, 397, 400, 378, 342, 335, 1, 6, 722, 715, 51, 56, 119, 316, 277, 311, 993, 981, 1012, 1017, 
       1000, 998, 986, 1005, 1067, 1036, 1050, 1043, 1062, 1048, 1055, 164, 183, 171, 188, 455, 443, 462, 
       450, 448, 481, 474, 479, 467, 683, 20, 25, 49, 44, 32, 13, 37, 18, 758, 753, 734, 760, 746, 739, 
       727, 741, 809, 796, 804, 777, 765, 784, 789, 772, 791, 828, 842, 854, 847, 811, 816, 823, 830, 
       835, 897, 859, 861, 873, 866, 892, 880, 878, 885, 924, 905, 917, 936, 900, 929, 912, 931, 967, 
       979, 955, 943, 948, 962, 974, 950, 1074, 1101, 1118, 1120, 33, 292, 350, 401, 40, 52, 26, 14, 
       57, 38, 21, 300, 312, 343, 336, 329, 470, 449, 451, 463, 475, 444, 468, 805, 831, 800, 812, 843, 
       836, 824, 817, 829, 850, 881, 862, 886, 879, 848, 867, 874, 855, 1018, 1044, 1037, 1049, 1020, 
       1025, 1013, 1063, 1068, 1056, 1075, 7, 2, 184, 172, 285, 278, 381, 742, 716, 735, 723, 728, 
       730, 754, 747, 759, 761, 797, 785, 766, 778, 773, 780, 792, 918, 920, 898, 913, 893, 906, 901, 
       956, 963, 932, 937, 949, 944, 925, 951, 987, 1001, 999, 970, 975, 1006, 994, 982, 968, 1107, 1102, 
       1119, 1121, 3, 46, 10, 22, 41, 39, 27, 34, 15, 60, 53, 185, 255, 313, 337, 279, 717, 724, 748, 
       736, 743, 731, 729, 382, 375, 457, 452, 476, 469, 464, 488, 685, 173, 387, 798, 786, 779, 750, 
       767, 793, 762, 755, 774, 801, 825, 837, 806, 844, 820, 832, 818, 813, 851, 882, 868, 849, 863, 
       870, 894, 875, 887, 926, 933, 914, 899, 902, 921, 907, 919, 940, 952, 971, 938, 964, 976, 957, 945, 
       969, 1002, 1007, 990, 995, 983, 988, 1019, 1014, 1045, 1057, 1040, 1038, 1071, 1069, 1064, 
       1026, 1021, 1115) 

tasksInStudy = c(3504, 3516, 3523, 3535, 3547, 3559, 3561, 3566, 3573, 3597, 3605, 3624, 3643, 3650, 
                 3655, 3667, 3674, 3701, 3713, 3725, 3756, 3768, 3782, 3908, 3910, 3922, 3939, 3953, 
                 2068, 3802, 3807, 3826, 3838, 3845, 3852, 3864, 3871, 3890, 3895, 3011, 9, 35, 2272, 
                 3648, 11, 3636, 3612, 3857, 3915, 2075, 3751, 3629, 3706, 3693, 3876, 3787, 3491, 47, 
                 3585, 3763, 3799, 3554, 3718, 3580, 3679, 3732, 3794, 3869, 3819, 23, 3496, 3578, 3814, 
                 3749, 3737, 3542, 3888, 3770, 3720, 3775, 3617, 3592, 3631, 3744, 2373, 4, 42, 54, 3903, 
                 3484, 30, 3681, 3883, 3821, 3662, 16, 3833, 3698, 3840, 28, 3686, 206, 59, 3600, 2273, 
                 2071, 5, 48, 3625, 3651, 3656, 3663, 3675, 3682, 3707, 3719, 3721, 3726, 3738, 3757, 
                 3790, 3500, 3517, 3524, 3536, 3543, 3548, 3550, 3562, 3579, 3904, 3942, 3803, 3808, 
                 3827, 3853, 3865, 3872, 3889, 3891, 3012, 3694, 3555, 3497, 3613, 3923, 3788, 3815, 
                 3752, 3810, 3909, 3637, 3771, 3860, 3649, 3620, 3574, 3769, 3911, 3644, 3699, 3632, 
                 3670, 3702, 3687, 50, 24, 55, 31, 29, 3884, 3764, 3492, 3733, 3776, 3598, 3916, 36, 
                 3877, 3795, 3581, 3714, 3822, 3839, 2076, 43, 3954, 3618, 3858, 3834, 3896, 3606, 
                 3586, 3668, 3740, 3485, 3567, 3846, 3783, 3512, 3601, 219, 3841, 3593, 12, 
                 3745, 2146, 51, 3570, 3621, 3626, 3652, 3669, 3722, 3746, 3760, 3791, 2274, 2065, 2077, 
                 3481, 3498, 3501, 3513, 3518, 3532, 3537, 3544, 3551, 3556, 3563, 3568, 3575, 3809, 
                 3823, 3830, 3835, 3847, 3861, 3866, 3873, 3878, 3880, 3892, 3912, 3943, 3950, 3640, 
                 3607, 3772, 3582, 3018, 3796, 3811, 3703, 18, 3727, 3683, 3955, 3493, 3715, 3664, 
                 3619, 3905, 3690, 3710, 3645, 3695, 3657, 3734, 3777, 3638, 3854, 3741, 3789, 
                 3897, 13, 49, 37, 3688, 32, 3917, 3671, 3816, 3842, 3594, 3486, 3549, 3708, 3602, 
                 3784, 3614, 3804, 3859, 3587, 3676, 3753, 3765, 3633, 2382, 3739, 3758, 3599, 3828, 
                 6, 2142, 20, 3885, 1, 145, 3646, 3665, 3696, 3704, 3709, 3723, 3728, 3754, 3761, 
                 3792, 2275, 2078, 3487, 3499, 3502, 3507, 3519, 3526, 3545, 3557, 3569, 3571, 3576, 
                 3595, 3021, 3906, 3951, 3805, 3824, 3829, 3831, 3848, 3855, 3862, 3881, 3886, 3893, 
                 2, 7, 33, 52, 57, 14, 45, 3730, 3817, 26, 3836, 3901, 3691, 3879, 3918, 3867, 3622, 
                 3634, 3747, 3639, 3797, 3019, 2073, 3920, 3603, 21, 3766, 3716, 3641, 3552, 3610, 
                 3590, 40, 3564, 3677, 3759, 3898, 3780, 3540, 3538, 3949, 3742, 3778, 3660, 38, 
                 3874, 3658, 3812, 3615, 3494, 3850, 3800, 3785, 3689, 3583, 3773, 3653, 3913, 3735, 
                 3608, 3672, 3627, 3684, 3711, 3843, 3588, 2067, 2079, 3010, 2276, 3503, 3522, 3527, 
                 3541, 3546, 3553, 3558, 3565, 2372, 3604, 3623, 3680, 3700, 3705, 3717, 3750, 3755, 
                 3762, 3793, 3938, 3940, 3801, 3820, 3844, 3849, 3851, 3856, 3863, 3870, 3894, 3731, 
                 3577, 3729, 3647, 3779, 3837, 3666, 3832, 3818, 3628, 3654, 3673, 3724, 3596, 3642, 
                 3774, 3539, 3661, 3630, 60, 34, 41, 3868, 3887, 3921, 3611, 3692, 3798, 3813, 3914, 
                 3685, 3806, 3736, 3635, 53, 3659, 3781, 3022, 3743, 3, 3882, 3875, 22, 58, 3616, 
                 3495, 39, 3899, 3748, 15, 27, 3584, 3609, 3560, 3678, 3697, 3825, 3767, 3902, 3591, 
                 3712, 3510, 3589, 3786, 3483, 3907, 2074, 3488, 3919, 3952, 10) 

flowsInStudy <- c(1109, 1178, 1072, 1089, 1173, 1192, 1116, 1197, 1111, 1200, 1096, 1091, 1084, 1077, 
                  1104, 1166, 1154, 1180, 1185, 1085, 1092, 1198, 1174, 1244, 1080, 1181, 1179, 1155, 
                  1193, 1186, 1100, 1167, 1073, 1078, 1117, 1112, 1105, 1118, 1120, 1182, 1086, 1163, 
                  1187, 1199, 1194, 1079, 1168, 1101, 1106, 1098, 1074, 1157, 1246, 1107, 1102, 1099, 
                  1195, 1188, 1190, 1094, 1640, 1183, 1068, 1087, 1082, 1114, 1070, 1075, 1083, 1160, 
                  1177, 1095, 1191, 1165, 1172, 1108, 1071, 1115, 1069, 1196, 1090, 1088, 1103, 1076) 

# download all data from repository 
allData <- listOMLDataSets() 
allTasks <- listOMLTasks() 
allFlows <- listOMLFlows() 


# filter values that are in the study 
dsSelected <- allData[allData$did %in% dsInStudy, ] 
tasksSel <- allTasks[allTasks$task.id %in% tasksInStudy, ]  
flowsSel <- allFlows[allFlows$flow.id %in% flowsInStudy, ] 
 
rfi <- getOMLFlow(flow.id = 1079) 
task <- getOMLTask(task.id = 1) 

data(iris)
## tune `svm' for classification with RBF-kernel (default in svm),
## using one split for training/validation set

iris[iris$Species!="setosa",]->iris 

obj <- tune(ada, Species~., data = iris, 
            ranges = list(iter = 1:15, nu = 1:2)  
    ) 

# svm is the name of an algorithm 
# target variable 
# data is the original list or matrix, can be omitted if features and goals are given 

# ranges is the example of parameters 

summary(obj) 
plot(obj)







